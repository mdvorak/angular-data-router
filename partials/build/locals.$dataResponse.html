<h1><code ng:non-bindable="">$dataResponse</code>
<div><span class="hint">service in module <code ng:non-bindable="">locals</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="locals-dataresponse-page"><p><code>$dataResponse</code> is the whole response object, which provides same attributes as <code>$http</code> plus some more.
The instance never changes for the given view, its data might however.</p>
<h4 id="description_data-reloading">Data reloading</h4>
<p>You can reload the data of this view by calling <a href="#/build/locals.$dataResponse#methods_reload">reload(boolean)</a> method.
Router handles everything for you as if it would be first load, including errors.</p>
<p>When you pass <code>true</code> as the argument, your view controller will always be destroyed and recreated, and view recompiled.
If the view is main view, route change lifecycle will occur (<code>$routeChange*</code> events will be fired).</p>
<p>When you pass <code>false</code> or <code>undefined</code>, behavior depends on the response. If request succeeds, the media type and URL
does not change, the <a href="#/build/locals.$dataResponse#events_$routeupdate">$routeUpdate</a> event will be fired and it is up
to the controller to update the view (note that if you are using <code>dataAs</code> view configuration, scope variable will be
updated automatically). If something changes (when request fails, media type of the response is <code>$error</code>), full
reload is performed, as if you would pass <code>true</code> as the argument.</p>
<h5 id="description_data-reloading_example">Example</h5>
<pre><code class="lang-js">    module.controller(&#39;sampleCtrl&#39;, function($scope, $dataResponse) {
        $scope.data = $dataResponse.data;

        // Listen for updates
        $dataResponse.$on(&#39;$routeUpdate&#39;, function routeUpdateListener() {
            // Update the data
            $scope.data = $dataResponse.data;
        });

        // Reload handler
        $scope.refresh = function refresh() {
            $dataResponse.reload();
        };
    });
</code></pre>
</div></div>
<div class="member method"><h2 id="methods">Methods</h2>
<ul class="methods"><li><h3 id="methods_$broadcast">$broadcast(name, args)</h3>
<div class="$broadcast"><div class="-broadcast-page"><p>Fires the event on this object. You should not need to call this directly.</p>
<p>This behaves same as scope events, except events are not propagated.</p>
</div><h5 id="methods_$broadcast_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>name</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-broadcast-page"><p>Name of the event.</p>
</div></td></tr><tr><td>args <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="-broadcast-page"><p>Event arguments. Any number of arguments can be specified.</p>
</div></td></tr></tbody></table><h5 id="methods_$broadcast_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="-broadcast-page"><p>Event object.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_$on">$on(name, listener, scope)</h3>
<div class="$on"><div class="-on-page"><p>Registers the listener for the required event.</p>
<p>This behaves same as scope events, except events are not propagated.</p>
</div><h5 id="methods_$on_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>name</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="-on-page"><p>Name of the event. Currently only <code>$routeUpdate</code> makes sense.</p>
</div></td></tr><tr><td>listener</td><td><a href="" class="label type-hint type-hint-function">Function</a></td><td><div class="-on-page"><p>Callback for the event.</p>
</div></td></tr><tr><td>scope <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-scope">Scope</a></td><td><div class="-on-page"><p>If the scope is provided, listener is automatically deregistered when the scope is destroyed.</p>
</div></td></tr></tbody></table><h5 id="methods_$on_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-function">Function</a></td><td><div class="-on-page"><p>Remover function, as with scope events. Call it to deregister the listener.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_dataas">dataAs(scope, name, listener)</h3>
<div class="dataas"><div class="dataas-page"><p>Stores the data object (and watches for <a href="#/build/locals.$dataResponse#events_$routeupdate">$routeUpdate</a> event)
in the scope. Performs automatic listener deregistration when the scope is destroyed.</p>
<p>This is programatic alternative for view configuration <code>dataAs</code>.</p>
</div><h5 id="methods_dataas_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>scope</td><td><a href="" class="label type-hint type-hint-scope">Scope</a></td><td><div class="dataas-page"><p>Scope where the data will be set to.</p>
</div></td></tr><tr><td>name</td><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="dataas-page"><p>Name of the data object.</p>
</div></td></tr><tr><td>listener <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-function">Function</a></td><td><div class="dataas-page"><p>Callback with signature <code>function(data)</code> that is called after the data on the scope were changed.</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="methods_reload">reload(forceReload)</h3>
<div class="reload"><div class="reload-page"><p>Reloads the data of the view. By the parameter you can specify, whether you want to just reload the data
or always recreate the view. Note that even when you don&#39;t want to recreate the view, if the media type changes,
new view is always created.</p>
</div><h5 id="methods_reload_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>forceReload <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="reload-page"><p>If true, view is always refreshed (controller recreated). Otherwise it is recreated
only if media type of the response changes. If the view remains same,
<a href="#/build/locals.$dataResponse#events_$routeupdate">$routeUpdate</a> event is fired and it is up to the controller to update
the view.</p>
</div></td></tr></tbody></table></div>
</li>
</ul>
</div>
<div class="member property"><h2 id="properties">Properties</h2>
<ul class="properties"><li><h3 id="properties_config">config</h3>
<div class="config"><h5 id="properties_config_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="config-page"><p>Configuration object from <code>$http</code> request.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="properties_data">data</h3>
<div class="data"><div class="data-page"><p>Note that data can be null or pretty much anything. It is not modified by the router itself.</p>
</div><h5 id="properties_data_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="data-page"><p>The loaded data. Same as <a href="#/build/locals.$data">$data</a>.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="properties_headers">headers</h3>
<div class="headers"><h5 id="properties_headers_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-function">Function</a></td><td><div class="headers-page"><p>Headers the response. Same as in <code>$http</code> response.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="properties_status">status</h3>
<div class="status"><div class="status-page"><p>Corresponds to the HTTP response status code. Special case is if there was application error, this is set to <code>999</code>.</p>
</div><h5 id="properties_status_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-number">Number</a></td><td><div class="status-page"><p>Status code of the response. Same as in <code>$http</code> response.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="properties_statustext">statusText</h3>
<div class="statustext"><h5 id="properties_statustext_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="statustext-page"><p>Status text of the response. Same as in <code>$http</code> response.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="properties_type">type</h3>
<div class="type"><h5 id="properties_type_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="type-page"><p>Normalized media type of the response. For error view, it has special value <code>$error</code>.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="properties_url">url</h3>
<div class="url"><h5 id="properties_url_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-string">String</a></td><td><div class="url-page"><p>API URL of the loaded resource. Same as <a href="#/build/locals.$dataUrl">$dataUrl</a> object.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="properties_view">view</h3>
<div class="view"><div class="view-page"><p>Configuration of the matched view.</p>
</div><h5 id="properties_view_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="view-page"><p>View configuration. This is actual configuration (not a copy), so don&#39;t modify in any case!</p>
</div></td></tr></table></div>
</li>
</ul>
</div>
<div class="member event"><h2 id="events">Events</h2>
<ul class="events"><li><h3 id="events_$routeupdate">$routeUpdate</h3>
<div class="$routeupdate"><div class="-routeupdate-page"><p>This event is fired on the <code>$dataResponse</code> instance. It notifies the listeners that data has been reloaded
and controller needs to update the view.</p>
</div><div class="inline"></div>
<div class="inline"></div>
<h5 id="events_$routeupdate_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>$dataResponse</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="-routeupdate-page"><p>Reference to the self.</p>
</div></td></tr></tbody></table></div>
</li>
</ul>
</div>
</div>
